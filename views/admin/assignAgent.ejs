<main>
	<%- include('../partials/adminSidebar') %>
<!--This line includes the sidebar, probably containing navigation links for the admin dashboard.-->
	
	<div id="main-wrapper">
		
		<div class="bg-white shadow-sm p-3">
			<span class="me-3" id="sidebar-toggler-btn"><i class="fas fa-bars"></i></span>
			<h5 class="m-0 color-theme d-inline-block">Assign agent</h5>
		</div>
<!--The header contains a title (Assign agent) and a button to toggle the sidebar.-->
		
		<form action="/admin/donation/assign/<%= donation._id %>" method="POST" class="border m-4 my-3 p-4 bg-white rounded-2 shadow">
<!--The form's action points to an endpoint where the donation (identified by its _id) is handled, and the method is set to POST.
The form is styled with Bootstrap classes like border, bg-white, shadow, etc., for a modern look.-->			
			<div class="row">
				<div class="mb-4 col-sm-4">
					<label for="donor" class="form-label">Donor name</label>
					<input type="text" class="form-control" id="donor" value="<%= donation.donor.firstName + ' ' + donation.donor.lastName %>" disabled>
				</div>
				
				<div class="mb-4 col-sm-8">
					<label for="address" class="form-label">Address</label>
					<input type="text" class="form-control" id="address" value= "<%= donation.address %>" disabled>
				</div>
			</div>
<!--This section displays the donor's name and address, both set as disabled input fields, meaning they are read-only and cannot be modified.-->
			
			<div class="mb-4">
				<label for="agent" class="form-label">Select Agent</label>
				<select name="agent" class="form-select" id="agent">
					<% for(let i=0; i<agents.length; i++) { %>
						<option value="<%= agents[i]._id %>"><%= agents[i].firstName + " " + agents[i].lastName %></option>
					<% } %>
				</select>
			</div>
<!--The select dropdown allows the admin to assign an agent to the donation.
The dropdown dynamically generates options based on the agents array, where each agentâ€™s name and ID are used.-->
			
			<div class="mb-4">
				<label for="msg" class="form-label">Message to Agent</label>
				<textarea type="text" name="adminToAgentMsg" class="form-control" id="msg" placeholder="You can write here some msg.."></textarea>
			</div>
<!--A textarea allows the admin to send an optional message to the agent regarding the assignment.-->
			
			<button type="submit" class="btn w-75 d-block m-auto mt-4">Assign</button>
<!--The submit button is centrally aligned (m-auto) and styled to span 75% width (w-75).-->
		</form>
		
	</div>
</main>
